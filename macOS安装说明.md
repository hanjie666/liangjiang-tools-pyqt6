# 良匠工具箱 - macOS 安装说明

## 安装步骤

1. 解压下载的 `良匠工具箱-macOS.zip` 文件
2. 将 `良匠工具箱.app` 拖动到"应用程序"文件夹中

## 首次运行

由于应用程序未经过 Apple 的代码签名认证，首次运行时可能会遇到安全警告。请按照以下步骤操作：

### 方法一：通过 Finder 打开

1. 在 Finder 中找到 `良匠工具箱.app`（通常在"应用程序"文件夹中）
2. 按住 Control 键并点击应用图标（或右键点击）
3. 在弹出的菜单中选择"打开"
4. 在弹出的警告对话框中，点击"打开"按钮

完成上述步骤后，系统会记住您的选择，以后再次打开应用程序时将不再显示警告。

### 方法二：使用修复工具（推荐）

我们提供了一个修复工具，可以自动解决大多数安全和权限问题：

1. 打开终端（在"应用程序/实用工具"中）
2. 将 `fix_app.sh` 脚本拖到终端窗口中
3. 按回车键运行脚本
4. 如果需要，输入管理员密码

脚本会自动修复应用程序的权限和安全设置，然后您可以正常打开应用程序。

### 方法三：通过系统偏好设置

如果应用程序已被系统阻止运行：

1. 打开"系统偏好设置"（或"系统设置"）
2. 点击"安全性与隐私"（或"隐私与安全性"）
3. 在"通用"选项卡中，您会看到一条消息说明应用被阻止
4. 点击"仍要打开"或"允许"按钮

### 方法四：使用终端命令（高级用户）

如果您熟悉终端操作，可以使用以下命令移除应用程序的隔离属性：

```bash
xattr -d com.apple.quarantine /Applications/良匠工具箱.app
```

## 常见问题

### 问题：应用程序闪退

如果应用程序启动后立即关闭，可能是由于以下原因：

1. **缺少必要的依赖**：确保您的系统已安装 Python 和必要的库
2. **文件路径问题**：应用程序可能无法找到必要的文件
3. **权限问题**：应用程序可能没有足够的权限

### 解决方法

1. **使用修复工具**：运行 `fix_app.sh` 脚本修复常见问题

2. **使用调试工具**：运行 `debug_app.py` 脚本诊断问题
   ```bash
   python3 debug_app.py
   ```

3. **在终端中运行应用程序**：查看详细错误信息
   ```bash
   /Applications/良匠工具箱.app/Contents/MacOS/良匠工具箱
   ```

4. **检查日志文件**：查看应用程序的日志
   ```bash
   cat /tmp/liangjiang_tools_debug.log
   ```

## 重新打包应用程序

如果您需要重新打包应用程序，可以使用以下命令：

```bash
./package_macos_py2app.sh
```

这将创建一个新的应用程序包，并应用所有必要的修复。

## 联系支持

如果您遇到任何问题，请联系开发者获取支持。 